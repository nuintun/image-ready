/**
 * @module image-ready
 * @author aui
 * @author nuintun
 * @license MIT
 * @version 1.0.0
 * @description A tiny library for get the natural size of the image before the image is loaded.
 * @see https://github.com/nuintun/image-ready#readme
 */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("imageReady",e):(n=n||self).imageReady=e()}(this,function(){"use strict";var n=null,e=[];function t(n,e){var t=n.length;if(e>=0&&e<t){var r=n.pop();if(e+1<t){var o=n[e];return n[e]=r,o}return r}}function r(){null==n&&cancelAnimationFrame(n);for(var o=0;o<e.length;){var i=e[o];i.check(),i.ready?t(e,o):o++}n=e.length?requestAnimationFrame(r):null}function o(n){return n.naturalWidth||n.offsetWidth}function i(n){return n.naturalHeight||n.offsetHeight}return function(t,u,a){var f=new Image;if(f.src=t,f.complete)return u(f.width,f.height);var c=o(f),l=i(f),d=function(){h.ready=!0,f.onload=f.onerror=null},h={ready:!1,check:function(){var n=o(f),e=i(f);(n!==c||e!==l||n*e>0)&&(d(),u(n,e))}};f.onload=function(){d(),u(o(f),i(f))},f.onerror=function(){d(),"function"==typeof a&&a()},h.check(),h.ready||(e.push(h),null==n&&r())}});
//# sourceMappingURL=image-ready.js.map