/**
 * @module image-ready
 * @author aui
 * @author nuintun
 * @license MIT
 * @version 1.0.0
 * @description A tiny library for get the natural size of the image before the image is loaded.
 * @see https://github.com/nuintun/image-ready#readme
 */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("imageReady",e):(n=n||self).imageReady=e()}(this,function(){"use strict";var n=null,e=[];function t(n,e){var t=n.length;if(e>=0&&e<t){var r=n.pop();if(e+1<t){var i=n[e];return n[e]=r,i}return r}}function r(){null==n&&cancelAnimationFrame(n);for(var i=0;i<e.length;){var o=e[i];o.check(),o.ready?t(e,i):i++}n=e.length?requestAnimationFrame(r):null}function i(n){return n.naturalWidth||n.offsetWidth}function o(n){return n.naturalHeight||n.offsetHeight}return function(t,a,u){var f=new Image;if(f.src=t,f.complete)return a(f.width,f.height);var c=i(f),l=o(f),d=function(){h.ready=!0,f.onload=f.onerror=null},h={ready:!1,check:function(){var n=i(f),e=o(f);(n!==c||e!==l||n*e>0)&&(d(),a(n,e))}};f.onload=function(){d(),a(f.naturalWidth||f.width,f.naturalHeight||f.height)},f.onerror=function(){d(),"function"==typeof u&&u()},h.check(),h.ready||(e.push(h),null==n&&r())}});
//# sourceMappingURL=image-ready.js.map